<div class="registro-container">

  <!-- Titulo -->
  <div>
    <h1 class="welcome-title">REGÍSTRATE</h1>
  </div>

  <!-- Formulario Registro -->
  <form class="login-form">

    <!-- Nombre Completo -->
    <div class="form-group">
      <div class="input-container">
        <span class="input-icon">👤</span>
        <input type="text" class="form-input" placeholder="Nombre Completo" required>
      </div>
    </div>

    <!-- Dirección con autocompletado -->
    <div class="form-group" style="position: relative;">
      <div class="input-container">
        <span class="input-icon">📍</span>
        <input
          #direccionInput
          type="text"
          class="form-input"
          placeholder="Dirección"
          required
          autocomplete="off"
          (keydown.enter)="$event.preventDefault()"
          (input)="onDireccionInput(direccionInput.value)"
          (focus)="abrirSugerenciasSiHay()"
          (blur)="onDireccionBlur()"
        >
      </div>

      <!-- Lista de sugerencias -->
      <ul class="sugerencias" *ngIf="mostrandoSugerencias">
        <li
          class="sugerencia-item"
          *ngFor="let s of sugerencias"
          (mousedown)="seleccionarSugerencia(s, direccionInput)"
        >
          {{ s.display_name }}
        </li>
        <li class="sugerencia-atribucion">
          Resultados por Nominatim — © OpenStreetMap contributors
        </li>
      </ul>
    </div>

    <!-- Correo -->
    <div class="form-group">
      <div class="input-container">
        <span class="input-icon">📧</span>
        <input type="email" class="form-input" placeholder="Email" required>
      </div>
    </div>

    <!-- Passwords -->
    <div formGroupName="passwordGroup">
      <div class="form-group">
        <div class="input-container">
          <span class="input-icon">🔒</span>
          <input [type]="showPass ? 'text':'password'" class="form-input" placeholder="Contraseña" formControlName="password">
          <button type="button" class="password-toggle" (click)="showPass = !showPass">👁</button>
        </div>
      </div>
    <!-- Password -->
    <div class="form-group">
      <div class="input-container">
        <span class="input-icon">🔒</span>
        <input type="password" class="form-input" placeholder="Contraseña" id="passwordInput" required>
        <button type="button" class="password-toggle" onclick="togglePassword()">👁</button>
      </div>
    </div>

      <div class="form-group">
        <div class="input-container">
          <span class="input-icon">🔒</span>
          <input [type]="showPass2 ? 'text':'password'" class="form-input" placeholder="Repetir Contraseña" formControlName="repeatPassword">
          <button type="button" class="password-toggle" (click)="showPass2 = !showPass2">👁</button>
        </div>
      </div>

      <div class="error" *ngIf="form.get('passwordGroup')?.touched && form.get('passwordGroup')?.errors?.['passwordsMismatch']">
        Las contraseñas no coinciden.
      </div>
    </div>
    <!-- Repeat Password -->
    <div class="form-group">
      <div class="input-container">
        <span class="input-icon">🔒</span>
        <input type="password" class="form-input" placeholder="Repetir Contraseña" id="passwordRepeatInput" required>
        <button type="button" class="password-toggle" onclick="togglePassword()">👁</button>
      </div>
    </div>

    <!-- Tipo de usuario -->
    <div class="tipo-usuario-container">
      <label>Tipo de Usuario:</label>

      <div class="form-check">
        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
        <label class="form-check-label" for="radioDefault1">Proveedor</label>
      </div>

      <div class="form-check">
        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" checked>
        <label class="form-check-label" for="radioDefault2">Solicitante</label>
      </div>
    </div>
    <br>

    <!-- Botón Ingresar -->
    <button type="button" class="login-button" (click)="routeLogin()">Ingresar</button>
    <br><br>

    <!-- Botón Cancelar -->
    <button type="button" class="cancel-button" (click)="routeLogin()">Cancelar</button>
  </form>
</div>
